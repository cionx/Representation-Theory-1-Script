\usepackage{amsmath} % mash stuff
\usepackage{amssymb} % math stuff
\usepackage{amsthm} % math stuff
\usepackage{enumitem} % for better enumerates
\usepackage{mathtools} % math stuff
\usepackage{xltxtra} % xelatex
\usepackage{ellipsis} % right ellipsis when using \dots, include after xltxtra
\usepackage{tikz} % for diagrams
\usetikzlibrary{external} % storing tikz figures externially to reduce build time
\tikzexternalize[prefix=tikz/]
\tikzset{external/system call={%
  xelatex \tikzexternalcheckshellescape
  -halt-on-error -interaction=batchmode
  -jobname "\image" "\texsource"}}


\setromanfont[Mapping=tex-text]{Linux Libertine O}
\setlist[enumerate,1]{leftmargin=*} % deletes some leftmargin from enumerates

% proposition-like enviroments
\newcounter{propositions}
\newtheorem{prop}[propositions]{Proposition}
\newtheorem{lem}[propositions]{Lemma}
\newtheorem{thrm}[propositions]{Theorem}
\newtheorem{cor}[propositions]{Corollary}
\newtheorem*{claim}{Claim}

% more text-like enviroments
\newtheorem*{defi}{Definition}
\newtheorem*{expl}{Example}
\newtheorem*{expls}{Examples}
\newtheorem*{rem}{Remark}

% numbers and fields
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}

% macros for spaces
\DeclareMathOperator{\Der}{Der}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\Mat}{M}

% macros for functions
\DeclareMathOperator{\ad}{ad}
\DeclareMathOperator{\can}{can}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\tr}{tr}

% fancy symbols and such
\newcommand{\g}{\mathfrak{g}}
\newcommand{\gl}{\mathfrak{gl}}
\newcommand{\Loop}{\mathcal{L}}

% shortcuts for frequently used stuff
\newcommand{\subideal}{\vartriangleleft}