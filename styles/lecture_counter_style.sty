% initializing the list of lectures
\addtotoclist{lol}
\newcommand{\listoflectures}{\listoftoc{lol}}
\newcommand{\listoflolname}{List of Lectures}
\setuptoc{lol}{totoc}

% initializing a lecture counter
\newcounter{lecture}
\renewcommand{\thelecture}{Lecture \arabic{lecture}}


% auxiliary command for adding descriptions to the list of lectures
% NOTE: the standard indentation for sections in the toc is 1.5em,
% see KOMA-Script manual, value tocindent for section,
% in Chapter 21 (Additional Information about the Main Classes and scrextend)
\newcommand{\texttolol}[1]{%
  \addtocontents{lol}{\smallskip\hspace{1.5em}\protect\parbox{\linewidth - \@pnumwidth - 1.5em}{\detokenize{#1}}\par}
}

% printing margin notes on the left side
\reversemarginpar

% the main command
\NewDocumentCommand%
  {\nextlecture}
  {mo} % date as optional argument
  {%
    % increase the counter
    \refstepcounter{lecture}%
    % print in on the left side margin
  \marginnote{\usekomafont{disposition} \thelecture \\ \normalfont #1}
    \addcontentsline{lol}{chapter}{{\thelecture} (#1)}
    % print information in the list of lectures
    \IfValueTF{#2}{ \texttolol{#2} }{ }
  }
